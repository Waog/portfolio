name: Master CI Pipeline

on:
  push:
    branches:
      - master

permissions:
  actions: read
  contents: read

jobs:
  install-npm-deps:
    uses: ./.github/workflows/install-npm-deps.yml

  install-playwright:
    needs: install-npm-deps
    uses: ./.github/workflows/install-playwright.yml

  commitlint:
    needs: install-npm-deps
    uses: ./.github/workflows/commitlint-since-last-commit.yml

  build-and-test:
    needs: [install-npm-deps, install-playwright]
    uses: ./.github/workflows/build-test.yml
