<div class="project-card no-page-break" [class.top-project]="isTopProject()">
  <header class="header-content">
    <div>{{ project().title }}</div>
    <mat-chip color="accent" highlighted class="project-type-chip">
      {{ project().projectType }}
    </mat-chip>
  </header>
  <div>
    <!-- Compact Content (Collapsed State) -->
    <section *ngIf="!showExpandedContent" class="compact-content">
      <article class="compact-description">
        <p>
          {{ project().compactDescription }}
          <span class="key-achievements"> {{ project().keyAchievements }}</span>
        </p>
      </article>

      <nav class="content-toggle screen-only">
        <button
          mat-button
          color="primary"
          (click)="toggleContent()"
          class="expand-button"
        >
          <mat-icon>expand_more</mat-icon>
          Show Details
        </button>
      </nav>
    </section>

    <!-- Expanded Content (Full State) -->
    <section *ngIf="showExpandedContent" class="expanded-content">
      <article class="description-section">
        <p>
          {{ project().fullDescription }}
        </p>
      </article>

      <section class="features-section">
        <h4>
          <mat-icon>check_circle</mat-icon>
          Key Features
        </h4>
        <mat-list dense>
          <mat-list-item *ngFor="let feature of project().features">
            <mat-icon matListItemIcon color="primary">check</mat-icon>
            <div matListItemTitle>{{ feature }}</div>
          </mat-list-item>
        </mat-list>
      </section>

      <section class="highlights-section">
        <h4>
          <mat-icon>star</mat-icon>
          Highlights
        </h4>
        <mat-list dense>
          <mat-list-item *ngFor="let highlight of project().highlights">
            <mat-icon matListItemIcon color="accent">star</mat-icon>
            <div matListItemTitle>
              {{ highlight }}
            </div>
          </mat-list-item>
        </mat-list>
      </section>

      <nav class="content-toggle">
        <button
          mat-button
          color="primary"
          (click)="toggleContent()"
          class="collapse-button"
        >
          <mat-icon>expand_less</mat-icon>
          Show Less
        </button>
      </nav>
    </section>

    <lib-project-item-meta-tiles [project]="project()" />

    <footer class="technologies-section">
      <lib-keyword-list [keywords]="project().technologies"> </lib-keyword-list>
    </footer>
  </div>
</div>
